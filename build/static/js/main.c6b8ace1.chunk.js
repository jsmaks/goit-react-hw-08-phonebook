(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{48:function(t,e,n){},78:function(t,e,n){},79:function(t,e,n){},82:function(t,e,n){"use strict";n.r(e);var r,c,a,o,s=n(1),i=n.n(s),u=n(25),l=n.n(u),b=(n(48),n(8)),h=n(9),j=n(11),d=n(10),p=n(6),f=n(3),O=Object(f.b)("auth/registerRequest"),m=Object(f.b)("auth/registerSuccess"),g=Object(f.b)("auth/registerError"),C=Object(f.b)("auth/loginRequest"),x=Object(f.b)("auth/loginSuccess"),v=Object(f.b)("auth/loginError"),y={registerRequest:O,registerSuccess:m,registerError:g,logoutRequest:Object(f.b)("auth/logoutRequest"),logoutSuccess:Object(f.b)("auth/logoutSuccess"),logoutError:Object(f.b)("auth/logoutError"),loginRequest:C,loginSuccess:x,loginError:v,getCurrentUserRequest:Object(f.b)("auth/getCurrentUserRequest"),getCurrentUserSuccess:Object(f.b)("auth/getCurrentUserSuccess"),getCurrentUserError:Object(f.b)("auth/getCurrentUserError")},S=n(2),k=n(7),E={name:null,email:null},A=Object(f.c)(E,(r={},Object(S.a)(r,y.registerSuccess,(function(t,e){return e.payload.user})),Object(S.a)(r,y.loginSuccess,(function(t,e){return e.payload.user})),Object(S.a)(r,y.logoutSuccess,(function(){return E})),Object(S.a)(r,y.getCurrentUserSuccess,(function(t,e){return e.payload})),r)),T=Object(f.c)(null,(c={},Object(S.a)(c,y.registerSuccess,(function(t,e){return e.payload.token})),Object(S.a)(c,y.loginSuccess,(function(t,e){return e.payload.token})),Object(S.a)(c,y.logoutSuccess,(function(){return null})),c)),w=Object(f.c)(null,(a={},Object(S.a)(a,y.registerError,(function(t,e){return e.payload})),Object(S.a)(a,y.loginError,(function(t,e){return e.payload})),Object(S.a)(a,y.logoutError,(function(t,e){return e.payload})),Object(S.a)(a,y.getCurrentUserError,(function(t,e){return e.payload})),a)),L=Object(f.c)(!1,(o={},Object(S.a)(o,y.registerSuccess,(function(){return!0})),Object(S.a)(o,y.loginSuccess,(function(){return!0})),Object(S.a)(o,y.getCurrentUserSuccess,(function(){return!0})),Object(S.a)(o,y.registerError,(function(){return!1})),Object(S.a)(o,y.loginError,(function(){return!1})),Object(S.a)(o,y.getCurrentUserError,(function(){return!1})),Object(S.a)(o,y.logoutSuccess,(function(){return!1})),o)),M=Object(k.b)({user:A,isAuthenticated:L,token:T,error:w}),I=n(17),J=n.n(I),Q=n(22),U=n(13),B=n.n(U);B.a.default.baseURL="https://connections-api.herokuapp.com";var q=function(t){B.a.defaults.headers.common.Authorization="Bearer ".concat(t)},R=function(){B.a.defaults.headers.common.Authorization=""},z={register:function(t){return function(){var e=Object(Q.a)(J.a.mark((function e(n){var r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(y.registerRequest()),e.prev=1,e.next=4,B.a.post("/users/signup",t);case 4:r=e.sent,q(r.data.token),n(y.registerSuccess(r.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(y.registerError(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},login:function(t){return function(){var e=Object(Q.a)(J.a.mark((function e(n){var r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(y.loginRequest()),e.prev=1,e.next=4,B.a.post("/users/login",t);case 4:r=e.sent,q(r.data.token),n(y.loginSuccess(r.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(y.loginError(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},logout:function(){return function(){var t=Object(Q.a)(J.a.mark((function t(e){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(y.logoutRequest()),t.prev=1,t.next=4,B.a.post("/users/logout");case 4:R(),e(y.logoutSuccess()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(y.logoutError(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},getCurrentUser:function(){return function(){var t=Object(Q.a)(J.a.mark((function t(e,n){var r,c,a;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n(),c=r.auth.token){t.next=3;break}return t.abrupt("return");case 3:return q(c),e(y.getCurrentUserRequest()),t.prev=5,t.next=8,B.a.get("/users/current");case 8:a=t.sent,e(y.getCurrentUserSuccess(a.data)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),e(y.getCurrentUserError(t.t0.message));case 15:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e,n){return t.apply(this,arguments)}}()}},N=function(t){return t.auth.isAuthenticated},K=function(t){return t.auth.user.name},D=n(4),G=n(19),V=n(0),Z={link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,color:"#2A363B"},activeLink:{color:"#ff9800"}},W=Object(D.b)((function(t){return{isAuthenticated:N(t)}}))((function(t){var e=t.isAuthenticated;return Object(V.jsxs)("nav",{children:[Object(V.jsx)(G.b,{exact:!0,to:"/",style:Z.link,activeStyle:Z.activeLink,children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),e&&Object(V.jsx)(G.b,{to:"/contacts",style:Z.link,activeStyle:Z.activeLink,children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"})]})})),H={container:{display:"flex",alignItems:"center"},avatar:{marginRight:4},name:{fontWeight:700,marginRight:12}},Y={onLogout:z.logout},F=Object(D.b)((function(t){return{name:K(t),avatar:"data:image/png;base64,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"}}),Y)((function(t){var e=t.avatar,n=t.name,r=t.onLogout;return Object(V.jsxs)("div",{style:H.container,children:[Object(V.jsx)("img",{src:e,alt:"",width:"32",style:H.avatar}),Object(V.jsxs)("span",{style:H.name,children:["Welcome, ",n]}),Object(V.jsx)("button",{className:"btn btn-out",type:"button",onClick:r,children:"Logout"})]})})),P={link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,color:"#2A363B"},activeLink:{color:"#ff9800"}},X=function(){return Object(V.jsxs)("div",{children:[Object(V.jsx)(G.b,{to:"/register",exact:!0,style:P.link,activeStyle:P.activeLink,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(V.jsx)(G.b,{to:"/login",exact:!0,style:P.link,activeStyle:P.activeLink,children:"\u041b\u043e\u0433\u0438\u043d"})]})},_={header:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #2A363B"}},$=Object(D.b)((function(t){return{isAuthenticated:N(t)}}))((function(t){var e=t.isAuthenticated;return Object(V.jsxs)("header",{style:_.header,children:[Object(V.jsx)(W,{}),e?Object(V.jsx)(F,{}):Object(V.jsx)(X,{})]})})),tt=Object(f.b)("contacts/fetchContactsRequest"),et=Object(f.b)("contacts/fetchContactsSuccess"),nt=Object(f.b)("contacts/fetchContactsError"),rt=Object(f.b)("contacts/addContactRequest"),ct=Object(f.b)("contacts/addContactSuccess"),at=Object(f.b)("contacts/addContactError"),ot=Object(f.b)("contacts/deleteContactRequest"),st=Object(f.b)("contacts/deleteContactSuccess"),it=Object(f.b)("contacts/deleteContactError"),ut=Object(f.b)("contacts/editContactRequest"),lt=Object(f.b)("contacts/editContactSuccess"),bt=Object(f.b)("contacts/editContactError"),ht=Object(f.b)("contacts/changeFilter");B.a.defaults.baseURL="https://connections-api.herokuapp.com";var jt,dt,pt={addContact:function(t){return function(e){e(rt()),B.a.post("/contacts",t).then((function(t){var n=t.data;return e(ct(n))})).catch((function(t){return e(at(t.message))}))}},deleteContact:function(t){return function(e){e(ot()),B.a.delete("/contacts/".concat(t)).then((function(){return e(st(t))})).catch((function(t){return e(it(t.message))}))}},editContact:function(t){var e=t.id,n=t.name,r=t.number;return function(t){var c={name:n,number:r};t(ut()),B.a.patch("/contacts/".concat(e),c).then((function(e){var n=e.data;return t(lt(n))})).catch((function(e){return t(bt(e.message))}))}},fetchContacts:function(){return function(){var t=Object(Q.a)(J.a.mark((function t(e){var n,r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(tt()),t.prev=1,t.next=4,B.a.get("/contacts");case 4:n=t.sent,r=n.data,e(et(r)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(nt(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}},ft=n(26),Ot=function(t){return t.contacts.filter},mt=function(t){return t.contacts.items},gt={getLoading:function(t){return t.contacts.loading},getFilter:Ot,getVisibleContacts:Object(ft.a)([mt,Ot],(function(t,e){var n=e.toLocaleLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),getAllContacts:mt},Ct=(n(78),function(t){Object(j.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(b.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(t=e.call.apply(e,[this].concat(c))).state={name:"",number:""},t.handleChange=function(e){var n=e.currentTarget,r=n.name,c=n.value;t.setState(Object(S.a)({},r,c))},t.handleSubmit=function(e){e.preventDefault(),t.checkOnDuplicate(t.props.libraryContacts),t.reset()},t.checkOnDuplicate=function(e){var n=t.state.name.toLowerCase();e.find((function(t){return t.name.toLowerCase()===n}))?alert("".concat(t.state.name," is alredy in contacts")):t.props.addContact(t.state)},t.reset=function(){t.setState({name:"",number:""})},t}return Object(h.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number;return Object(V.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(V.jsxs)("label",{children:["Name",Object(V.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",required:!0,value:e,onChange:this.handleChange})]}),Object(V.jsxs)("label",{children:["Number",Object(V.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043a\u0440\u0443\u0433\u043b\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +",required:!0,value:n,onChange:this.handleChange})]}),Object(V.jsx)("button",{className:"btn",type:"submit",children:"Add contact"})]})}}]),n}(s.Component)),xt=Object(D.b)((function(t){return{libraryContacts:gt.getAllContacts(t)}}),(function(t){return{addContact:function(e){return t(pt.addContact(e))}}}))(Ct),vt=(n(79),{form:{display:"flex"}}),yt=function(t){Object(j.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(b.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(t=e.call.apply(e,[this].concat(c))).state={id:"",name:"",number:""},t.handleChange=function(e){var n=e.currentTarget,r=n.name,c=n.value;t.setState(Object(S.a)({},r,c))},t.handleSubmit=function(e){e.preventDefault(),t.props.editContact(t.state),t.props.closeContact()},t}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.setState({id:this.props.contactItem.id,name:this.props.contactItem.name,number:this.props.contactItem.number})}},{key:"render",value:function(){var t=this.state,e=t.name,n=t.number,r=this.props.closeContact;return Object(V.jsxs)("form",{style:vt.form,onSubmit:this.handleSubmit,children:[Object(V.jsxs)("label",{children:["Name",Object(V.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",required:!0,value:e,onChange:this.handleChange})]}),Object(V.jsxs)("label",{children:["Number",Object(V.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043a\u0440\u0443\u0433\u043b\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +",required:!0,value:n,onChange:this.handleChange})]}),Object(V.jsx)("button",{className:"btn",type:"submit",children:"Save"}),Object(V.jsx)("button",{className:"btn",type:"button",onClick:r,children:"Close"})]})}}]),n}(s.Component),St={editContact:pt.editContact},kt=Object(D.b)(null,St)(yt),Et=function(t){Object(j.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(b.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(t=e.call.apply(e,[this].concat(c))).state={editContact:!1,idContact:null},t.handleToggleEditForm=function(e){t.setState((function(t){return{editContact:!t.editContact,idContact:e}}))},t}return Object(h.a)(n,[{key:"render",value:function(){var t=this,e=this.props,n=e.libraryContacts,r=e.onDelete;return Object(V.jsx)("div",{children:Object(V.jsx)("ul",{className:"contacts__list",children:n.map((function(e){return Object(V.jsxs)("li",{className:"contacts__item",children:[Object(V.jsxs)("p",{className:"contact__name",children:[e.name,":",Object(V.jsx)("span",{className:"contact__tel",children:e.number})]}),Object(V.jsx)("button",{className:"btn btn-red",onClick:function(){return r(e.id)},children:"Delete"}),Object(V.jsx)("button",{className:"btn",onClick:function(){return t.handleToggleEditForm(e.id)},children:"Edit"}),t.state.editContact&&t.state.idContact===e.id&&Object(V.jsx)(kt,{closeContact:t.handleToggleEditForm,contactItem:n})]},e.id)}))})})}}]),n}(s.Component),At={onDelete:pt.deleteContact,onEdit:pt.editContact},Tt=Object(D.b)((function(t){return{libraryContacts:gt.getVisibleContacts(t)}}),At)(Et),wt=Object(D.b)((function(t){return{value:gt.getFilter(t)}}),(function(t){return{onChange:function(e){return t(ht(e.currentTarget.value))}}}))((function(t){var e=t.value,n=t.onChange;return Object(V.jsxs)("label",{children:["Find contacts by name",Object(V.jsx)("input",{type:"text",value:e,onChange:n})]})})),Lt=function(t){Object(j.a)(n,t);var e=Object(d.a)(n);function n(){return Object(b.a)(this,n),e.apply(this,arguments)}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){return Object(V.jsxs)("div",{children:[Object(V.jsx)("h1",{children:"Phonebook"}),Object(V.jsx)(xt,{}),Object(V.jsx)("h2",{children:"Contacts"}),Object(V.jsx)(wt,{}),this.props.isLoadingContacts&&Object(V.jsx)("h1",{children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c..."}),Object(V.jsx)(Tt,{})]})}}]),n}(s.Component),Mt=Object(D.b)((function(t){return{isLoadingContacts:gt.getLoading(t)}}),(function(t){return{fetchContacts:function(){return t(pt.fetchContacts())}}}))(Lt),It=function(){return Object(V.jsx)("div",{children:Object(V.jsx)("div",{className:"home-page",children:Object(V.jsx)("h1",{className:"home-title",children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\u0430\u044f \u043a\u043d\u0438\u0433\u0430"})})})},Jt={form:{width:320},label:{display:"flex",flexDirection:"column",marginBottom:15}},Qt=function(t){Object(j.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(b.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(t=e.call.apply(e,[this].concat(c))).state={email:"",password:""},t.handleChange=function(e){var n=e.target,r=n.name,c=n.value;t.setState(Object(S.a)({},r,c))},t.handleSubmit=function(e){e.preventDefault(),t.props.onLogin(t.state),t.setState({name:"",email:"",password:""})},t}return Object(h.a)(n,[{key:"render",value:function(){var t=this.state,e=t.email,n=t.password;return Object(V.jsxs)("div",{children:[Object(V.jsx)("h1",{children:"\u041b\u043e\u0433\u0438\u043d"}),Object(V.jsxs)("form",{onSubmit:this.handleSubmit,style:Jt.form,autoComplete:"off",children:[Object(V.jsxs)("label",{style:Jt.label,children:["\u041f\u043e\u0447\u0442\u0430",Object(V.jsx)("input",{type:"email",name:"email",value:e,onChange:this.handleChange})]}),Object(V.jsxs)("label",{style:Jt.label,children:["\u041f\u0430\u0440\u043e\u043b\u044c",Object(V.jsx)("input",{type:"password",name:"password",value:n,onChange:this.handleChange})]}),Object(V.jsx)("button",{className:"btn",type:"submit",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})}}]),n}(s.Component),Ut={onLogin:z.login},Bt=Object(D.b)(null,Ut)(Qt),qt={form:{width:320},label:{display:"flex",flexDirection:"column",marginBottom:15}},Rt=function(t){Object(j.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(b.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(t=e.call.apply(e,[this].concat(c))).state={name:"",email:"",password:""},t.handleChange=function(e){var n=e.target,r=n.name,c=n.value;t.setState(Object(S.a)({},r,c))},t.handleSubmit=function(e){e.preventDefault(),t.props.onRegister(t.state),t.setState({name:"",email:"",password:""})},t}return Object(h.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.email,r=t.password;return Object(V.jsxs)("div",{children:[Object(V.jsx)("h1",{children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(V.jsxs)("form",{onSubmit:this.handleSubmit,style:qt.form,autoComplete:"off",children:[Object(V.jsxs)("label",{style:qt.label,children:["\u0418\u043c\u044f",Object(V.jsx)("input",{type:"text",name:"name",value:e,onChange:this.handleChange})]}),Object(V.jsxs)("label",{style:qt.label,children:["\u041f\u043e\u0447\u0442\u0430",Object(V.jsx)("input",{type:"email",name:"email",value:n,onChange:this.handleChange})]}),Object(V.jsxs)("label",{style:qt.label,children:["\u041f\u0430\u0440\u043e\u043b\u044c",Object(V.jsx)("input",{type:"password",name:"password",value:r,onChange:this.handleChange})]}),Object(V.jsx)("button",{className:"btn",type:"submit",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})]})}}]),n}(s.Component),zt=Object(D.b)(null,(function(t){return{onRegister:function(e){return t(z.register(e))}}}))(Rt),Nt=function(t){var e=t.children;return Object(V.jsx)("div",{className:"container",children:e})},Kt=n(21),Dt=n(28),Gt=["component","isAuthenticated","redirectTo"],Vt=Object(D.b)((function(t){return{isAuthenticated:N(t)}}))((function(t){var e=t.component,n=t.isAuthenticated,r=t.redirectTo,c=Object(Dt.a)(t,Gt);return Object(V.jsx)(p.b,Object(Kt.a)(Object(Kt.a)({},c),{},{render:function(t){return n?Object(V.jsx)(e,Object(Kt.a)({},t)):Object(V.jsx)(p.a,{to:r})}}))})),Zt=["component","isAuthenticated","redirectTo"],Wt=Object(D.b)((function(t){return{isAuthenticated:N(t)}}))((function(t){var e=t.component,n=t.isAuthenticated,r=t.redirectTo,c=Object(Dt.a)(t,Zt);return Object(V.jsx)(p.b,Object(Kt.a)(Object(Kt.a)({},c),{},{render:function(t){return n&&c.restricted?Object(V.jsx)(p.a,{to:r}):Object(V.jsx)(e,Object(Kt.a)({},t))}}))})),Ht=function(t){Object(j.a)(n,t);var e=Object(d.a)(n);function n(){return Object(b.a)(this,n),e.apply(this,arguments)}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetCurrentUser()}},{key:"render",value:function(){return Object(V.jsxs)(Nt,{children:[Object(V.jsx)($,{}),Object(V.jsx)(s.Suspense,{fallback:Object(V.jsx)("p",{children:"\u0417\u0430\u0433\u0440\u0443\u0437"}),children:Object(V.jsxs)(p.d,{children:[Object(V.jsx)(p.b,{exact:!0,path:"/",component:It}),Object(V.jsx)(Vt,{restricted:!0,path:"/contacts",component:Mt,redirectTo:"/login"}),Object(V.jsx)(Wt,{path:"/register",restricted:!0,component:zt,redirectTo:"/contacts"}),Object(V.jsx)(Wt,{path:"/login",restricted:!0,component:Bt,redirectTo:"/contacts"})]})})]})}}]),n}(s.Component),Yt={onGetCurrentUser:z.getCurrentUser},Ft=Object(D.b)(null,Yt)(Ht),Pt=n(27),Xt=n(42),_t=n.n(Xt),$t=n(20),te=Object(f.c)([],(jt={},Object(S.a)(jt,et,(function(t,e){return e.payload})),Object(S.a)(jt,ct,(function(t,e){var n=e.payload;return[].concat(Object(Pt.a)(t),[n])})),Object(S.a)(jt,st,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),Object(S.a)(jt,lt,(function(t,e){var n=e.payload;return t.map((function(t){return t.id===n.id?n:t}))})),jt)),ee=Object(f.c)("",Object(S.a)({},ht,(function(t,e){return e.payload}))),ne=Object(f.c)(!1,(dt={},Object(S.a)(dt,tt,(function(){return!0})),Object(S.a)(dt,et,(function(){return!1})),Object(S.a)(dt,nt,(function(){return!1})),Object(S.a)(dt,rt,(function(){return!0})),Object(S.a)(dt,ct,(function(){return!1})),Object(S.a)(dt,at,(function(){return!1})),Object(S.a)(dt,ot,(function(){return!0})),Object(S.a)(dt,st,(function(){return!1})),Object(S.a)(dt,it,(function(){return!1})),dt)),re=Object(f.c)(null,{}),ce=Object(k.b)({items:te,filter:ee,loading:ne,error:re}),ae=Object(Pt.a)(Object(f.d)({serializableCheck:{ignoredActions:[$t.a,$t.f,$t.b,$t.c,$t.d,$t.e]}})),oe={key:"auth",storage:_t.a,whitelist:["token"]},se=Object(f.a)({reducer:{auth:Object($t.g)(oe,M),contacts:ce},middleware:ae,devToold:!1}),ie={store:se,persistor:Object($t.h)(se)},ue=n(43);l.a.render(Object(V.jsx)(i.a.StrictMode,{children:Object(V.jsx)(D.a,{store:ie.store,children:Object(V.jsx)(ue.a,{loading:null,persistor:ie.persistor,children:Object(V.jsx)(G.a,{children:Object(V.jsx)(Ft,{})})})})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.c6b8ace1.chunk.js.map